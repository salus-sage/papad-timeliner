function addCustomFilters(env, filters) {
  for (const name in filters || {}) {
    if ({}.hasOwnProperty.call(filters, name)) {
      let filter = null;
      switch (typeof filters[name]) {
        case 'string':
          // eslint-disable-next-line import/no-dynamic-require
          filter = require(filters[name]);
          break;
        case 'function':
        default:
          filter = filters[name];
          break;
      }
      env.addFilter(name, filter);
    }
  }
}

module.exports = addCustomFilters;
