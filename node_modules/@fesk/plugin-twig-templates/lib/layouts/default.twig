<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>{{ props.page.title }}</title>
  {% for style in assets.styles %}
    <link rel="stylesheet" href="{{ style }}">
  {% endfor %}
</head>
<body class="{{ bodyClass }}">
{% block errors %}
  {% macro renderError(schemaError) %}
    <li>
      <strong>{{ schemaError.dataPath or 'root' }}</strong>
      {{ schemaError.message }} in
      <strong>{{ schemaError.name }}</strong> <br/>
      {% if(schemaError.params.missingPropertyDefinition.type) %}
        <small>Should be of type: <strong>{{ schemaError.params.missingPropertyDefinition.type }}</strong></small>
      {% endif %}
      {% if(schemaError.params.missingPropertyDefinition.minLength) %}
        <small>with a min length of <strong>{{ schemaError.params.missingPropertyDefinition.minLength }}</strong></small>
      {% endif %}
    </li>
  {% endmacro %}
  {% if jsonSchemaExampleErrors and jsonSchemaExampleErrors|length > 0 %}
    <ul class="debug-error">
      {% for schemaError in jsonSchemaExampleErrors %}
        {{ renderError(schemaError) }}
      {% endfor %}
    </ul>
  {% endif %}
  {% if exampleErrors and exampleErrors|length > 0 %}
    <ul class="debug-error">
      {% for schemaError in exampleErrors %}
        {{ renderError(schemaError) }}
      {% endfor %}
    </ul>
  {% endif %}
  {% if jsonSchemaExampleErrors|length > 0 or exampleErrors|length > 0 %}
    <style>
      .debug-error {
        font-family: sans-serif;
        background: #fff;
        border: 1px solid darkred;
        border-left-width: 4px;
        color: darkred;
        padding: 10px 15px;
        margin-bottom: 10px;
        font-weight: lighter;
        position: static;
        z-index: 99999999;
      }
      .debug-error li {
        list-style: none;
      }
      .debug-error small {
        color: red;
      }
    </style>
  {% endif %}
{% endblock %}

{% block navigation %}{% endblock %}

{% block body %}
  {{ contents | safe }}
{% endblock %}

{% for script in assets.scripts %}
  <script type="text/javascript" src="{{ script }}"></script>
{% endfor %}
</body>
</html>
