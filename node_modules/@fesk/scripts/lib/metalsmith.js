#!/usr/bin/env node
const metalsmithConfig = require('metalsmith-config-fesk');
const library = require('./scripts/parts');
const chalk = require('chalk');

module.exports = async opts => {
  const startTime = Date.now();

  await metalsmithConfig(opts).catch(err => {
    log(
      'x',
      `${chalk.blue('Metalsmith')} finished with ${chalk.red('errors')}`,
      'metalsmith'
    );
    console.log(err);
  });

  log(
    'hammer',
    `${chalk.green('✔︎')} Finished building ${chalk.blue(
      'templates'
    )} in ${Date.now() - startTime}ms`,
    'metalsmith'
  );
};
